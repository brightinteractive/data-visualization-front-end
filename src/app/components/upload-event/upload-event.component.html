<div class="container">
    <h2>Upload an Event</h2>

    <form [formGroup]="eventForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label class="center-block">User ID:
            <input class="form-control" formControlName="userId" required>
        </label>
      </div>
      <div [hidden]="eventForm.get('userId').valid || eventForm.get('userId').pristine" class="alert alert-danger">
          User ID is required
      </div>

      <div class="form-group">
        <label class="center-block">User Name:
            <input class="form-control" formControlName="userName" required>
        </label>
      </div>
      <div [hidden]="eventForm.get('userName').valid || eventForm.get('userName').pristine" class="alert alert-danger">
          User Name is required
      </div>

      <div class="form-group">
        <label class="center-block">Group:
            <input class="form-control" formControlName="group" required>
        </label>
      </div>
      <div [hidden]="eventForm.get('group').valid || eventForm.get('group').pristine" class="alert alert-danger">
          Group is required
      </div>

      <div class="form-group">
        <label class="center-block">Asset ID:
            <input class="form-control" formControlName="assetId" type="number" required min=0>
        </label>
      </div>
      <div [hidden]="eventForm.get('assetId').valid || eventForm.get('assetId').pristine" class="alert alert-danger">
          Asset ID is required
      </div>

      <div class="form-group">
        <label class="center-block">Asset Title:
            <input class="form-control" formControlName="assetTitle" required>
        </label>
      </div>
      <div [hidden]="eventForm.get('assetTitle').valid || eventForm.get('assetTitle').pristine" class="alert alert-danger">
          Asset Title is required
      </div>

      <div class="form-group">
        <label class="center-block">Start Date:
            <input class="form-control" formControlName="startDate" type="date" required>
        </label>
      </div>
      <div [hidden]="eventForm.get('startDate').valid || eventForm.get('startDate').pristine" class="alert alert-danger">
          Not a valid date
      </div>

      <div class="form-group">
          <label class="center-block">End Date:
              <input class="form-control" formControlName="endDate" type="date" required>
          </label>
      </div>
      <div [hidden]="eventForm.get('endDate').valid || eventForm.get('endDate').pristine ||eventForm.hasError('validDate')" class="alert alert-danger">
          Not a valid date
      </div>

      <button type="submit" class="btn btn-success" [disabled]="!eventForm.valid">
          Generate
      </button>   
      
    </form>

    <p>Form value: {{ eventForm.value | json }}</p>
    <p>Form status: {{ eventForm.status | json }}</p>
    <p>EndDate status: {{ eventForm.get('endDate').valid | json }}</p>
    <p>EndDate status: {{ eventForm.get('endDate').validDate | json }}</p>

    <!-- <form (ngSubmit)="onSubmit()" #eventForm="ngForm">
      <div class="form-group">
        <label for="userId">User ID</label>
        <input #userIdField type="text" class="form-control" id="userId" required name="userId" [(ngModel)]="eventModel.userId" #userId="ngModel">
        <div [hidden]="userId.valid || userId.pristine" class="alert alert-danger">
          User ID is required
        </div>
      </div>
  
      <div class="form-group">
        <label for="userName">User Name</label>
        <input type="text" class="form-control" id="userName" required name="userName" [(ngModel)]="eventModel.userName" #userName="ngModel">
        <div [hidden]="userName.valid || userName.pristine" class="alert alert-danger">
          User Name is required
        </div>
      </div>
  
      <div class="form-group">
        <label for="group">Group</label>
        <input type="text" class="form-control" id="group" required name="group" [(ngModel)]="eventModel.group" #group="ngModel">
        <div [hidden]="group.valid || group.pristine" class="alert alert-danger">
          Group is required
        </div>
      </div>
  
      <div class="form-group">
        <label for="assetId">Asset ID</label>
        <input type="number" class="form-control" id="assetId" required name="assetId" min="0" [(ngModel)]="eventModel.assetId" #assetId="ngModel">
        <div [hidden]="assetId.valid || assetId.pristine" class="alert alert-danger">
          Asset ID is required
        </div>
      </div>
  
      <div class="form-group">
        <label for="assetTitle">Asset Title</label>
        <input type="text" class="form-control" id="assetTitle" required name="assetTitle" [(ngModel)]="eventModel.assetTitle" #assetTitle="ngModel">
        <div [hidden]="assetTitle.valid || assetTitle.pristine" class="alert alert-danger">
          Asset Title is required
        </div>
      </div>
  
      <div class="form-group">
        <label for="startDate"> Start date: </label>
        <input type="date" class="form-control" id="startDate" required  name="startDate" [(ngModel)]="startDateModel" #startDate="ngModel"/>
      </div>
  
      <div class="form-group">
        <label for="endDate"> End date: </label>
        <input type="date" class="form-control" id="endDate" required name="endDate" [(ngModel)]="endDateModel" #endDate="ngModel" min="{{eventForm.value.startDate}}"/>
      </div>
  
      <button type="submit" class="btn btn-success" [disabled]="!eventForm.form.valid">
        Generate
      </button>   
  
    </form> -->
  
  </div>